Spring Cloud:--
--------------
          Spring Cloud provides tools for developers to quickly build some of the common patterns in distributed systems.
          e.g.(Configuration management,service discovery,circuit breakers,intelligent routing,micro-proxy,control bus,
          one-time tokens,global locks,leadership election,distributed sessions,cluster state.)
                    Using spring cloud developers can quickly stand up services and applications that implement those patterns,
           They will work well in any distributed environment.
                
Distributed Environments:--
----------------------------
          A Distributed system is a network that consists of autonomous computers that are connected using a distribution middleware.
 they help in sharing different resources and capabilities to provide users with a single and integrated  coherent network.        

Advantages and Disadvantages in Distributed Systems:--
-----------------------------------------

Advantages:-
----------
1. Shareability
2. Expandability
3. Local Autonomy
4. Improved performance
5. Improved reliability and availability
6. Potential cost reduces

Dis-Advantages:--
--------------
1. Network reliance
2. Complexities
3. Security
4. Multiple point of failure

Spring Cloud Features:--
------------------
1. Distributed/Versioned configuration
2. Service registration and discovery
3. Routing
4. Service to service calls
5. Load Balancing
6. Circuit breakers
7. Global locks
8. Distributed messaging

Netflix Oss:--
-------------
    Netflix Oss stands for Netflix Open Source Software developed by Netflix Team.
 Circuit Breaker:-
 -------------
 Circuit Breaker is a Desing pattern,it is used to detect the failures and encapsulates the logic of preventing a failure
 from constantaly recurring,during maintenance.


   1. spring boot application class
   @EnableZuulProxy
@SpringBootApplication
@EnableDiscoveryClient
public class ZuulApiGateWayApplication {

	public static void main(String[] args) {
		SpringApplication.run(ZuulApiGateWayApplication.class, args);
	}

}

2.pom.xml

	<dependencies>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-web</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.cloud</groupId>
			<artifactId>spring-cloud-starter-netflix-zuul</artifactId>
		</dependency>
		
		<dependency>
			<groupId>org.springframework.cloud</groupId>
			<artifactId>spring-cloud-starter-netflix-eureka-client</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.cloud</groupId>
			<artifactId>spring-cloud-starter-netflix-eureka-server</artifactId>
		</dependency>

		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-test</artifactId>
			<scope>test</scope>
		</dependency>
	</dependencies>
3. application.yml

Zuul:-- 
Add Zuul and eureka discovery
server:
  port: 6066


spring: 
    application: 
     name: zuuldemo  

zuul: 
 routes: 
  std: 
    url: http://localhost:6067
  links: 
   path: /dynamicips/**
   url: http://localhost:8088/
   strip-prefix:  false
  get: 
   path: /hi/**
   url: http://localhost:8088/
   strip-prefix:  false
  link1: 
   path: /fetchingdevices/**
   url: http://localhost:8088/
   strip-prefix:  false
  lect: 
   url: http://localhost:6068
   strip-prefix:  false
 host:  
   socket-timeout-millis: 600000
  
eureka: 
  instance: 
    preferIpAddress:  true
  client: 
      registerWithEureka: true
      fetchRegistry:  true
      service-url:
              defaultzone:  http://localhost:8761/eureka/  
    
      Spring boot H2 database:--
      ----------------------
1. application.properties:
    
spring.h2.console.enabled=true
server.port=8086
spring.h2.console.path=/h2

spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.datasource.url=jdbc:h2:~/testdb;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.username=sa
spring.datasource.password=admin
spring.datasource.driver-class-name=org.h2.Driver
spring.jpa.hibernate.ddl-auto=update
spring.datasource.platform=h2
    
2. pom.xml

<dependencies>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-data-jpa</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-web</artifactId>
		</dependency>

		<dependency>
			<groupId>com.h2database</groupId>
			<artifactId>h2</artifactId>
			<scope>runtime</scope>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-test</artifactId>
			<scope>test</scope>
		</dependency>
		
		<dependency>
			<groupId>org.apache.tomcat.embed</groupId>
			<artifactId>tomcat-embed-jasper</artifactId>
		</dependency>

		<dependency>
			<groupId>javax.servlet</groupId>
			<artifactId>jstl</artifactId>
		</dependency>
	</dependencies>
      
3. controller

package com.example.demo;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RestController;

import com.example.demo.entites.Employee;
import com.example.demo.service.EmployeeService;

@RestController
public class DemoController {

	@Autowired
	private JdbcTemplate jdbcTemplate;
	
	@Autowired
	private EmployeeService employeeService;
	
	@RequestMapping(value="/createTable",method=RequestMethod.GET)
	public void createTable(){
		
		try{
			jdbcTemplate.execute("create table customers(id number(10),name varchar2(255),age varchar2(22))");
			
		}catch(Exception e){
			e.printStackTrace();
		}
	}
	
	@RequestMapping(value="/putData",method=RequestMethod.GET)
	public void putData(){
		
		try{
			jdbcTemplate.execute("insert into customers(id,name,age) values(2,'raju',35)");
			
		}catch(Exception e){
			e.printStackTrace();
		}
	}
	
	@RequestMapping(value="/employee",method=RequestMethod.GET)
	public ResponseEntity<List<Employee>> employees(){
		List<Employee> employees = employeeService.getEmployees();
		return new ResponseEntity<>(employees,HttpStatus.OK);
	}
}

4. entites
package com.example.demo.entites;

import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;

@Entity
public class Employee {

	@Id
	@GeneratedValue(strategy=GenerationType.AUTO)
	private long id;
	private String name;
	
	
	public long getId() {
		return id;
	}
	public void setId(long id) {
		this.id = id;
	}
	public String getName() {
		return name;
	}
	public void setName(String name) {
		this.name = name;
	}
	
	
}

5. repository

package com.example.demo.repository;

import org.springframework.data.jpa.repository.JpaRepository;

import com.example.demo.entites.Employee;


public interface EmployeeRepository extends JpaRepository<Employee,Long>{

}

6. employee service
package com.example.demo.service;

import java.util.List;

import com.example.demo.entites.Employee;

public interface EmployeeService {

	public List<Employee> getEmployees();
}

7. employee service impl
package com.example.demo.impl;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.example.demo.entites.Employee;
import com.example.demo.repository.EmployeeRepository;
import com.example.demo.service.EmployeeService;

@Service
public class EmployeeServiceImpl implements EmployeeService{

	@Autowired
	private EmployeeRepository employeeRepository;
	
	@Override
	public List<Employee> getEmployees() {
		return employeeRepository.findAll();
	}

}
8. bootapplication
package com.example.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.data.jpa.repository.config.EnableJpaRepositories;

@SpringBootApplication
@EnableJpaRepositories
public class SpringbootJpaApplication {

	public static void main(String[] args) {
		SpringApplication.run(SpringbootJpaApplication.class, args);
	}
}
